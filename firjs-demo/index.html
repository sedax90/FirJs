<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Workflow</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="./../firjs-lib/styles/workflow-tree.css">
    <link rel="stylesheet" href="./page.css">
</head>

<body>
    <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap shadow">
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6">FirJs Demo</a>
        <div class="mx-3">
            <button type="button" class="btn btn-primary" id="centerWorkflow">Center</button>
            <button type="button" class="btn btn-dark ms-1" data-bs-toggle="modal" data-bs-target="#exampleModal">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                    class="bi bi-question-circle" viewBox="0 0 16 16">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                    <path
                        d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z" />
                </svg>
                Guide
            </button>
        </div>
    </header>

    <div class="container-fluid p-0">
        <div class="row g-0">
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 sidebar collapse d-flex flex-column">
                <div class="position-sticky pt-3 sidebar-sticky">
                    <div class="px-3">
                        <h4>Drag me!</h4>
                        <ul class="nav flex-column mt-3">
                            <li class="nav-item mb-2">
                                <a draggable="true" data-type="task"
                                    class="draggable list-group-item list-group-item-action d-flex align-items-center gap-3 py-3 px-2 bg-white border rounded">
                                    <span class="text-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                            fill="currentColor" class="bi bi-gear-wide" viewBox="0 0 16 16">
                                            <path
                                                d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z" />
                                            <path
                                                d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z" />
                                        </svg>
                                    </span>
                                    <div class="d-flex gap-2 w-100 justify-content-between">
                                        <div>
                                            <h6 class="mb-0">Task</h6>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item mb-2">
                                <a draggable="true" data-type="map"
                                    class="draggable list-group-item list-group-item-action d-flex align-items-center gap-3 py-3 px-2 bg-white border rounded">
                                    <span class="text-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                            fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">
                                            <path
                                                d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z" />
                                            <path fill-rule="evenodd"
                                                d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z" />
                                        </svg>
                                    </span>
                                    <div class="d-flex gap-2 w-100 justify-content-between">
                                        <div>
                                            <h6 class="mb-0">Map</h6>
                                            <p class="mb-0 opacity-75">for/while</p>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="nav-item mb-2">
                                <a draggable="true" data-type="choice"
                                    class="draggable list-group-item list-group-item-action d-flex align-items-center gap-3 py-3 px-2 bg-white border rounded">
                                    <span class="text-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                            fill="currentColor" class="bi bi-shuffle" viewBox="0 0 16 16">
                                            <path fill-rule="evenodd"
                                                d="M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z" />
                                            <path
                                                d="M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z" />
                                        </svg>
                                    </span>
                                    <div class="d-flex gap-2 w-100 justify-content-between">
                                        <div>
                                            <h6 class="mb-0">Choice</h6>
                                            <p class="mb-0 opacity-75">if/switch</p>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="d-grid gap-2 p-3 mt-auto">
                    <button id="resetBtn" class="btn btn-primary" type="button">Reset (preserve current position and scale)</button>
                </div>
            </nav>

            <main class="col overflow-hidden">
                <div id="root" class="root"></div>
            </main>
        </div>
    </div>

    <!-- Help modal -->
    <div class="modal modal-xl" id="exampleModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">Help</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h3>How to:</h3>
                    <div>
                        <table class="table table-striped">
                            <tbody>
                                <tr>
                                    <th>Zoom</th>
                                    <td>Simply use you mouse wheel!</td>
                                </tr>
                                <tr>
                                    <th>Move the workflow</th>
                                    <td>Left click and hold with on the workspace and move the mouse (you will lose the
                                        selected component) or if you
                                        want to move from anywhere, press and hold Ctrl (or Spacebar), left click on the
                                        workspace and move your hand (will NOT lose the selected component).</td>
                                </tr>
                                <tr>
                                    <th>Remove a node</th>
                                    <td>Select the node with a click and press "Del"</td>
                                </tr>
                                <tr>
                                    <th>Stop a node movement</th>
                                    <td>When you're moving a node and do you want to cancel the action simply press the
                                        Esc button and release your mouse.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h3>Events</h3>
                    <div>
                        <p>You can subscribe to the following events:</p>
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Method</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>onNodeSelect: (node)</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>onNodeDeselect: (node)</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>onNodeRemove: (node)</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>onNodeRemoveRequest: (node)</code>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>onTreeChange: (nodes)</code>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="./../firjs-lib/dist/index.js"></script>
    <script src="./scripts.js"></script>
</body>

</html>